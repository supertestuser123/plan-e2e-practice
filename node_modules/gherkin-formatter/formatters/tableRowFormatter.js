"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.format = exports.toArray = void 0;
const lines_builder_1 = require("lines-builder");
const debug_1 = require("../debug");
const utils_1 = require("../utils");
const tableCellFormatter_1 = require("./tableCellFormatter");
const debug = (0, debug_1.getDebugger)("tableRowFormatter");
function toArray(tableRow) {
    return tableRow.cells.map((cell) => (0, tableCellFormatter_1.format)(cell));
}
exports.toArray = toArray;
function format(tableRows) {
    debug("format(tableRows: %s)", tableRows === null || tableRows === void 0 ? void 0 : tableRows.constructor.name);
    if (!tableRows) {
        throw new Error("TableRows must be set!");
    }
    const tableLines = (0, lines_builder_1.splitToLines)((0, utils_1.table)(tableRows.map(toArray)));
    const result = (0, lines_builder_1.lines)();
    for (let i = 0; i < tableRows.length; ++i) {
        const row = tableRows[i];
        if (row.comment) {
            result.append(row.comment.text);
        }
        result.append(tableLines[i]);
    }
    return result.toString();
}
exports.format = format;
//# sourceMappingURL=tableRowFormatter.js.map